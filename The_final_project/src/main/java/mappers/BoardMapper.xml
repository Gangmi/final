<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

	<!-- mybais 자료형 int/hashmap/string -->

	<!--해당 게시판의 전체 게시물 갯수 쿼리 -->
	<select id="getBoardCount" parameterType="board"
		resultType="int">
		select count(*) from ${b_boardname}
	</select>

	<!--해당 게시판의 현재 조건에 따른 게시물 검색 -->
	<select id="getBoardList" parameterType="hashmap" resultType="board">
		select *
		from
		(select *,@rownum := @rownum+1 AS RNUM
		from ${b_boardname},(SELECT @rownum :=0)as R )as R
		where RNUM<![CDATA[>=]]>${startrow}
		and RNUM<![CDATA[<=]]>${endrow} <if test="search!=null">and b_title LIKE '%'||#{search}||'%'</if>

	</select>



</mapper>